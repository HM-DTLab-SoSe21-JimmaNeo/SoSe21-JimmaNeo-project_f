@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject UserServicee MyUserService
@using SEIIApp.Shared;


<div class="page">
    <div class="sidebar">
        <NavMenu />
    </div>

    <div class="main">
        <div class="top-row px-4">

            @if (MyUserService.User == null){
           <NavLink href="/login"> <button type="button" class="btn btn-outline-primary">Login</button></NavLink>
            } else {
            <button type ="button" class="btn btn-primary"  @onclick="() => Logout()">Logout</button>
          }
        </div>

        <div class="content px-4">
            @Body
        </div>
    </div>
</div>

@code{

    private void Logout() {

        MyUserService.User = null;
        NavigationManager.NavigateTo("/login");

    }

}

